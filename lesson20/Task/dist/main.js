!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=()=>{const e=document.querySelectorAll(".portfolio-item").length;let t=document.querySelector(".portfolio-dots");for(let r=0;r<e;r++){let e=document.createElement("li");e.appendChild(document.createTextNode("")),e.setAttribute("class","dot"),t.appendChild(e)}document.querySelector(".dot").setAttribute("class","dot dot-active")};var o=()=>{const e=document.querySelector(".command");let t;e.addEventListener("mouseover",e=>{null==e.target.closest(".quote")&&(t=e.target.src,e.target.src=e.target.dataset.img)}),e.addEventListener("mouseout",e=>{null==e.target.closest(".quote")&&(e.target.src=t)}),document.querySelector(".calc-block").addEventListener("keypress",e=>{let t=e.keyCode;/[0-9]/.test(String.fromCharCode(t))||e.preventDefault()})};var a=()=>{class e{constructor({selector:e,pattern:t={},method:r}){this.form=document.querySelector(e),this.pattern=t,this.method=r,this.elementsForm=[...this.form.elements].filter(e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type),this.error=new Set}init(){this.applyStyle(),this.setPattern(),this.elementsForm.forEach(e=>e.addEventListener("change",this.checkIt.bind(this))),this.form.addEventListener("submit",e=>{this.elementsForm.forEach(e=>this.checkIt({target:e})),this.error.size&&e.preventDefault()})}isValid(e){const t={notEmpty:e=>""!==e.value.trim(),pattern:(e,t)=>t.test(e.value)};if(this.method){const r=this.method[e.id];if(r)return r.every(r=>t[r[0]](e,this.pattern[r[1]]))}else console.warn("Необходимо передать id полей ввода и методы этих полей");return!0}checkIt(e){const t=e.target;this.isValid(t)?(this.showSuccess(t),this.error.delete(t)):(this.showError(t),this.error.add(t))}showError(e){if(e.classList.remove("success"),e.classList.add("error"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error"))return;const t=document.createElement("div");t.textContent="Ошибка в этом поле",t.classList.add("validator-error"),e.insertAdjacentElement("afterend",t)}showSuccess(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()}applyStyle(){const e=document.createElement("style");e.textContent="\n\t\t\tinput.success {\n\t\t\t\tborder: 2px solid green !important;\n\t\t\t}\n\t\t\tinput.error {\n\t\t\t\tborder: 2px solid red !important;\n\t\t\t}\n\t\t\t.validator-error {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tfont-family: sans-serif;\n\t\t\t\tcolor: red;\n\t\t\t}\n\t\t",document.head.appendChild(e)}setPattern(){this.pattern.phone||(this.pattern.phone=/^\+?[78]([-()]*\d){10}$/),this.pattern.email||(this.pattern.email=/^\w+\.?\-?\_?\w+@\w+\.\w{2,}$/)}}const t=new e({selector:"#form1",pattern:{phone:/^\+?[78]\d{10}$/,name:/[а-яё]+/i},method:{"form1-name":[["notEmpty"],["pattern","name"]],"form1-phone":[["notEmpty"],["pattern","phone"]],"form1-email":[["notEmpty"],["pattern","email"]]}}),r=new e({selector:"#form2",pattern:{phone:/^\+?[78]\d{10}$/,name:/[а-яё]+/i,message:/[а-яё,.]+/i},method:{"form2-name":[["notEmpty"],["pattern","name"]],"form2-phone":[["notEmpty"],["pattern","phone"]],"form2-email":[["notEmpty"],["pattern","email"]],"form2-message":[["notEmpty"],["pattern","message"]]}}),n=new e({selector:"#form3",pattern:{phone:/^\+?[78]\d{10}$/,name:/[а-яё]+/i},method:{"form3-name":[["notEmpty"],["pattern","name"]],"form3-phone":[["notEmpty"],["pattern","phone"]],"form3-email":[["notEmpty"],["pattern","email"]]}});t.init(),r.init(),n.init()};const s=document.querySelector(".calc-block");s.addEventListener("keypress",e=>{let t=e.keyCode;/[0-9]/.test(String.fromCharCode(t))||e.preventDefault()});var i=(e=100)=>{const t=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),n=document.querySelector(".calc-day"),o=document.querySelector(".calc-count"),a=document.getElementById("total");s.addEventListener("change",s=>{const i=s.target;i!==t&&i!==r&&i!==n&&i!==o||(()=>{let s=0,i=1,l=1;const c=t.options[t.selectedIndex].value;let m=+r.value;o.value>1?i+=(o.value-1)/10:"0"==o.value&&(i=0),n.value&&n.value<5?l*=2:n.value&&n.value<10&&(l*=1.5),c&&m&&(s=Math.round(e*c*m*i*l)),a.textContent=s})()})};var l=()=>{document.body.addEventListener("keypress",e=>{const t=e.target.getAttribute("name"),r=e.target.value,n=e.key;"user_name"===t&&(/[а-я А-Я]/.test(n)||e.preventDefault()),"user_message"===t&&(/[а-я А-Я.,?!]/.test(n)||e.preventDefault()),"user_phone"===t&&(/[0-9+]/.test(n)?(r.length>0&&"+"===n||"+"===r[0]&&1==r.length&&"7"!==n||0===r.length&&"+"!==n&&"8"!==n)&&e.preventDefault():e.preventDefault()),"user_email"===t&&"user_email"===t&&(/[0-9a-zA-Z@!#$%&'*+-/=?^_`{}|~]/.test(n)||e.preventDefault())})};var c=()=>{const e=document.querySelector("body"),t=document.createElement("div");t.style.cssText="font-size: 2rem;",t.style.color="white",e.addEventListener("submit",e=>{if(e.preventDefault(),null!==e.target.querySelector(".error"))return;let n=e.target;n.appendChild(t),t.innerHTML='<img src = "./images/status/loading.gif" height = "70vh">';const o=new FormData(n);let a={};o.forEach((e,t)=>{a[t]=e}),r(a).then(e=>{if(200!==e.status)throw new Error("Status network not 200");t.innerHTML='<img src = "./images/status/success.png" height = "70vh">',setTimeout(()=>{t.innerHTML=""},2e3),document.querySelectorAll("input").forEach(e=>{e.classList.remove("success"),e.classList.remove("error"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove(),e.value=""})}).catch(e=>{t.innerHTML='<img src = "./images/status/error.png" height = "150vh">',console.error(e)})});const r=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var m=()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.querySelectorAll(".dot"),r=document.querySelector(".portfolio-content");let n,o=0;const a=(e,t,r)=>{e[t].classList.remove(r)},s=(e,t,r)=>{e[t].classList.add(r)},i=()=>{a(e,o,"portfolio-item-active"),a(t,o,"dot-active"),++o>=e.length&&(o=0),s(e,o,"portfolio-item-active"),s(t,o,"dot-active")},l=(e=3e3)=>{n=setInterval(i,e)};r.addEventListener("click",r=>{r.preventDefault();let n=r.target;n.matches(".portfolio-btn, .dot")&&(a(e,o,"portfolio-item-active"),a(t,o,"dot-active"),n.matches("#arrow-right")?o++:n.matches("#arrow-left")?o--:n.matches(".dot")&&t.forEach((e,t)=>{e===n&&(o=t)}),o>=e.length?o=0:o<0&&(o=e.length-1),s(e,o,"portfolio-item-active"),s(t,o,"dot-active"))}),r.addEventListener("mouseover",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)}),r.addEventListener("mouseout",e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l()}),l(3e3)};var d=()=>{document.body.addEventListener("click",e=>{let t=e.target,r=t.closest('a[href*="#"]');if(!t.matches(".close-btn")&&!t.matches(".portfolio-btn")&&null==t.closest("footer")&&r&&r.matches('a[href*="#"]')){e.preventDefault();const t=r.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}})};var u=()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),r=document.querySelectorAll(".service-tab");e.addEventListener("click",e=>{let n=e.target;(n=n.closest(".service-header-tab"))&&t.forEach((e,o)=>{e===n&&(e=>{for(let n=0;n<r.length;n++)e===n?(t[n].classList.add("active"),r[n].classList.remove("d-none")):(r[n].classList.add("d-none"),t[n].classList.remove("active"))})(o)})})};var p=()=>{const e=document.querySelector("menu");document.body.addEventListener("click",t=>{let n=t.target.closest("menu"),o=t.target.closest(".menu"),a=t.target.matches("menu"),s=e.classList.contains("active-menu");(n&&!a||s&&null==n||o)&&r()});let t={Android:()=>navigator.userAgent.match(/Android/i),BlackBerry:()=>navigator.userAgent.match(/BlackBerry/i),iOS:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),Opera:()=>navigator.userAgent.match(/Opera Mini/i),Windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>null===(t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows())};const r=()=>{t.any()?e.classList.toggle("active-menu"):e.style.transform?e.style.transform="":e.style.transform="translate(0)"}};let h={Android:()=>navigator.userAgent.match(/Android/i),BlackBerry:()=>navigator.userAgent.match(/BlackBerry/i),iOS:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),Opera:()=>navigator.userAgent.match(/Opera Mini/i),Windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>null===(h.Android()||h.BlackBerry()||h.iOS()||h.Opera()||h.Windows())};const v=e=>{h.any()?y(e,!1):e.style.display="block"},g=e=>{h.any()?y(e,!0):e.style.display="none",document.getElementById("form3").querySelectorAll("input").forEach(e=>{e.classList.remove("success"),e.classList.remove("error"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove(),e.value=""})},y=(e,t)=>{let r=50,n=0;t?n=1:(e.style.opacity=0,e.style.display="block");let o=setInterval(()=>{n=t?n-.02:n+.02,e.style.opacity=n,--r<0&&(clearInterval(o),t&&(e.style.display="none",e.style.opacity=1))},5)};var f=()=>{const e=document.querySelector(".popup");document.body.addEventListener("click",t=>{const r=t.target.matches(".popup-btn"),n=t.target.matches(".popup-close"),o=t.target.matches(".popup");r&&v(e),(n||o)&&g(e)})};((e="20 october 2019")=>{setInterval(()=>{let t=document.querySelector("#timer-hours"),r=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds"),o=(new Date(e).getTime()-(new Date).getTime())/1e3;(e=>{let o=Math.floor(e%60),a=Math.floor(e/60%60),s=Math.floor(e/60/60);t.textContent=s<10?"0"+s:s,r.textContent=a<10?"0"+a:a,n.textContent=o<10?"0"+o:o})(o=o<0?0:o)},1e3,e)})(),p(),f(),d(),u(),n(),m(),o(),i(100),a(),c(),l()}]);